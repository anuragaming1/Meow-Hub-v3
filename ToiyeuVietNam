-- Part1: Auto Bounty - Core Config & Setup by Anura Hub

-- C·∫•u h√¨nh ch√≠nh
getgenv().Config = {
    Team = "Pirates", -- Ho·∫∑c "Marines"
    AutoTeam = true,
    AutoSummonSeaBeast = true,
    ComboDelay = 0.2,
    LowHealthFlyUp = 10, -- %
    ComebackHealth = 30, -- %
    TweenSpeed = 300,
    UseAura = true,
    UseInstinct = true,
    UsePVP = true,
    AutoV4 = true,
    SkipRaceV4 = true,
    AFKMode = true,
}

-- Th·ª© t·ª± combo chu·∫©n
getgenv().ComboOrder = {
    {Type = "Melee", Skill = "C"},
    {Type = "Melee", Skill = "X"},
    {Type = "Fruit", Skill = "Z"},
    {Type = "Fruit", Skill = "X"},
    {Type = "Melee", Skill = "Z"},
    {Type = "Sword", Skill = "Z"},
    {Type = "Gun", Skill = "X"},
    {Type = "Fruit", Skill = "C"},
    {Type = "Sword", Skill = "X"},
    {Type = "Gun", Skill = "Z"},
    {Type = "Fruit", Skill = "V"},
    {Type = "Fruit", Skill = "F"},
}

-- Kh·ªüi ƒë·ªông h·ªá th·ªëng
repeat task.wait() until game:IsLoaded() and game.Players.LocalPlayer
local plr = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

-- Anti script c≈©
for _,v in pairs(game.Workspace:GetChildren()) do
    if v.Name == "Script" then v:Destroy() end
end
game.Workspace.ChildAdded:Connect(function(c)
    if c.Name == "Script" then c:Destroy() end
end)

-- Auto ch·ªçn Team n·∫øu c·∫ßn
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local preferredTeam = getgenv().Config and getgenv().Config.Team or "Pirates" -- Ho·∫∑c "Marines"

-- Auto ch·ªçn team b·∫±ng SetTeam ch√≠nh x√°c
task.spawn(function()
    repeat wait(1)
        pcall(function()
            if not LocalPlayer.Team or tostring(LocalPlayer.Team) ~= preferredTeam then
                ReplicatedStorage.Remotes.CommF_:InvokeServer("SetTeam", preferredTeam)
            end
        end)
    until LocalPlayer.Team and tostring(LocalPlayer.Team) == preferredTeam
end)

-- T·ª± b·∫≠t Aura, Instinct, PVP
task.spawn(function()
    while true do
        pcall(function()
            if getgenv().Config.UsePVP and plr.PlayerGui.Main.PvpDisabled.Visible == true then
                game.ReplicatedStorage.Remotes.CommF_:InvokeServer("EnablePvp")
            end
            if getgenv().Config.UseAura and not plr.Character:FindFirstChild("HasBuso") then
                game.ReplicatedStorage.Remotes.CommF_:InvokeServer("Buso")
            end
            if getgenv().Config.UseInstinct and not plr.Character:FindFirstChild("Instinct") then
                keypress(0x65) wait(0.1) keyrelease(0x65)
            end
        end)
        task.wait(1)
    end
end)

-- AFK mode (ƒë·ªïi v≈© kh√≠ li√™n t·ª•c)
if getgenv().Config.AFKMode then
    task.spawn(function()
        while task.wait(15) do
            local backpack = plr:FindFirstChild("Backpack")
            if backpack then
                for _, tool in pairs(backpack:GetChildren()) do
                    if tool:IsA("Tool") then
                        plr.Character.Humanoid:EquipTool(tool)
                        task.wait(0.5)
                    end
                end
            end
        end
    end)
end

print("[Anura Hub] Auto Bounty Part1 loaded.")

-- Part2: Auto Combat Full (Fix TP & Target)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local plr = Players.LocalPlayer

-- C·∫•u h√¨nh m·∫∑c ƒë·ªãnh n·∫øu ch∆∞a c√≥
getgenv().Config = getgenv().Config or {
    TweenSpeed = 300,
    ComboDelay = 0.2,
}
getgenv().ComboOrder = getgenv().ComboOrder or {
    {Type = "Melee", Skill = "C"},
    {Type = "Melee", Skill = "X"},
    {Type = "Fruit", Skill = "Z"},
    {Type = "Fruit", Skill = "X"},
    {Type = "Melee", Skill = "Z"},
    {Type = "Sword", Skill = "Z"},
    {Type = "Gun", Skill = "X"},
    {Type = "Fruit", Skill = "C"},
    {Type = "Sword", Skill = "X"},
    {Type = "Gun", Skill = "Z"},
    {Type = "Fruit", Skill = "V"},
    {Type = "Fruit", Skill = "F"},
}

-- T√¨m tool
function EquipTool(toolType)
    for _, v in pairs(plr.Backpack:GetChildren()) do
        if v:IsA("Tool") and v.ToolTip == toolType then
            plr.Character.Humanoid:EquipTool(v)
            return true
        end
    end
    for _, v in pairs(plr.Character:GetChildren()) do
        if v:IsA("Tool") and v.ToolTip == toolType then
            return true
        end
    end
end

-- D√πng skill
function UseSkill(key, delay)
    pcall(function()
        game:GetService("VirtualInputManager"):SendKeyEvent(true, key, false, game)
        task.wait(delay)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, key, false, game)
    end)
end

-- Auto ƒë√°nh th∆∞·ªùng
function Click()
    game:GetService("VirtualUser"):CaptureController()
    game:GetService("VirtualUser"):Button1Down(Vector2.new(0, 1))
end

-- Tween ƒë·∫øn m·ª•c ti√™u
function TweenTo(cf)
    local offset = CFrame.new(0, 6, -3)
    local dist = (plr.Character.HumanoidRootPart.Position - cf.Position).Magnitude
    local tweenInfo = TweenInfo.new(dist / getgenv().Config.TweenSpeed, Enum.EasingStyle.Linear)
    local goal = {CFrame = cf * offset}
    local tween = TweenService:Create(plr.Character.HumanoidRootPart, tweenInfo, goal)
    tween:Play()
    tween.Completed:Wait()
end

-- T√¨m player g·∫ßn nh·∫•t b·∫≠t PvP
function FindTarget()
    local closest = nil
    local shortest = math.huge

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= plr and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = player.Character.HumanoidRootPart
            local hp = player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health or 0
            local dist = (plr.Character.HumanoidRootPart.Position - hrp.Position).Magnitude
            if hp > 0 and dist < shortest then
                closest = player
                shortest = dist
            end
        end
    end

    return closest
end

-- Combo
function ComboOn(target)
    for _, s in ipairs(getgenv().ComboOrder) do
        EquipTool(s.Type)
        UseSkill(s.Skill, getgenv().Config.ComboDelay)
    end
    Click()
end

-- Auto chi·∫øn
task.spawn(function()
    while task.wait(0.5) do
        local enemy = FindTarget()
        if enemy and enemy.Character and enemy.Character:FindFirstChild("HumanoidRootPart") then
            TweenTo(enemy.Character.HumanoidRootPart.CFrame)
            ComboOn(enemy)
        end
    end
end)

print("[Anura Hub] Part2 - TP & Combo ho·∫°t ƒë·ªông.")

-- Part3: Target Tracking & Control by Anura Hub

local plr = game.Players.LocalPlayer
local lastHitTime = os.clock()
local targetStartTime = os.clock()
local currentTarget = nil

-- Ki·ªÉm tra PvP
function IsPVPEnabled(player)
    local gui = player:FindFirstChild("PlayerGui")
    if gui and gui:FindFirstChild("Main") then
        return gui.Main:FindFirstChild("PvpDisabled") and not gui.Main.PvpDisabled.Visible
    end
    return false
end

-- Ki·ªÉm tra Safe Zone
function InSafeZone(player)
    local gui = player:FindFirstChild("PlayerGui")
    if gui and gui:FindFirstChild("Main") and gui.Main:FindFirstChild("BottomHUDList") then
        return gui.Main.BottomHUDList.SafeZone.Visible
    end
    return false
end

-- T√¨m target m·ªõi h·ª£p l·ªá
function FindSmartTarget()
    local closest = nil
    local shortest = math.huge

    for _, p in pairs(game.Players:GetPlayers()) do
        if p ~= plr and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            local hp = p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health or 0
            local dist = (plr.Character.HumanoidRootPart.Position - p.Character.HumanoidRootPart.Position).Magnitude
            if hp > 0 and dist < shortest and IsPVPEnabled(p) and not InSafeZone(p) then
                shortest = dist
                closest = p
            end
        end
    end

    return closest
end

-- Theo d√µi tr·∫°ng th√°i ƒë√°nh
function UpdateTargetState()
    if currentTarget == nil or not currentTarget.Character or not currentTarget.Character:FindFirstChild("HumanoidRootPart") then
        return false
    end
    local dist = (plr.Character.HumanoidRootPart.Position - currentTarget.Character.HumanoidRootPart.Position).Magnitude
    if dist > 2500 or currentTarget.Character.Humanoid.Health <= 0 then
        return false
    end
    if not IsPVPEnabled(currentTarget) or InSafeZone(currentTarget) then
        return false
    end
    return true
end

-- Theo d√µi th·ªùi gian t·∫•n c√¥ng
function TickDamage()
    lastHitTime = os.clock()
end

-- V√≤ng l·∫∑p x·ª≠ l√Ω target
task.spawn(function()
    while task.wait(1) do
        if currentTarget == nil or not UpdateTargetState() then
            currentTarget = FindSmartTarget()
            targetStartTime = os.clock()
            lastHitTime = os.clock()
        else
            -- N·∫øu kh√¥ng g√¢y damage sau 30s => ƒë·ªïi ng∆∞·ªùi
            if os.clock() - lastHitTime >= 30 then
                print("[Anura Hub] Kh√¥ng g√¢y damage sau 30s => ƒê·ªïi target")
                currentTarget = FindSmartTarget()
                targetStartTime = os.clock()
                lastHitTime = os.clock()
            end
            -- N·∫øu ch∆∞a kill sau 45s => ƒë·ªïi
            if os.clock() - targetStartTime >= 45 then
                print("[Anura Hub] Ch∆∞a kill sau 45s => ƒê·ªïi target")
                currentTarget = FindSmartTarget()
                targetStartTime = os.clock()
                lastHitTime = os.clock()
            end
        end
    end
end)

-- Auto b·∫≠t l·∫°i PVP n·∫øu b·ªã ch·∫øt
plr.CharacterAdded:Connect(function()
    task.wait(3)
    game.ReplicatedStorage.Remotes.CommF_:InvokeServer("EnablePvp")
end)

-- AFK Mode
if getgenv().Config.AFKMode then
    task.spawn(function()
        while task.wait(10) do
            for _, tool in pairs(plr.Backpack:GetChildren()) do
                if tool:IsA("Tool") then
                    plr.Character.Humanoid:EquipTool(tool)
                    task.wait(0.3)
                end
            end
        end
    end)
end

-- Export target cho Part2
_G.AutoBountyTarget = setmetatable({}, {
    __index = function()
        return currentTarget and currentTarget.Character
    end
})

print("[Anura Hub] Part3 loaded: Smart Target Tracker active.")
-- Part4: Fly, Support, Health Reaction by Anura Hub

local plr = game.Players.LocalPlayer
local hrp = nil

-- Auto ch·ªçn l·∫°i team n·∫øu ch∆∞a c√≥
task.spawn(function()
    while task.wait(2) do
        if not plr.Team and getgenv().Config.Team then
            local gui = plr.PlayerGui:FindFirstChild("Main")
            if gui and gui:FindFirstChild("ChooseTeam") then
                local team = getgenv().Config.Team
                pcall(function()
                    local btn = gui.ChooseTeam.Container[team].Frame.TextButton
                    for _, conn in pairs(getconnections(btn.Activated)) do
                        conn.Function()
                    end
                end)
            end
        end
    end
end)

-- Auto summon Sea Beast n·∫øu ƒë·ªß 10M bounty
task.spawn(function()
    while task.wait(5) do
        if getgenv().Config.AutoSummonSeaBeast and plr.leaderstats and plr.leaderstats.Bounty and plr.leaderstats.Bounty.Value >= 10000000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SpawnSeabeast")
        end
    end
end)

-- Fly xuy√™n t∆∞·ªùng + gi·ªØ kho·∫£ng c√°ch bi·ªÉn
task.spawn(function()
    while task.wait(0.1) do
        pcall(function()
            hrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Velocity = Vector3.new(0, 0, 0)
                hrp.CanCollide = false
                hrp.Anchored = false
                if hrp.Position.Y < 0 then
                    hrp.CFrame = hrp.CFrame + Vector3.new(0, 100, 0)
                end
            end
        end)
    end
end)

-- Auto n√© ƒë√≤n khi m√°u th·∫•p, bay l√™n tr·ªùi
task.spawn(function()
    while task.wait(0.5) do
        pcall(function()
            if plr.Character and plr.Character:FindFirstChild("Humanoid") and hrp then
                local hp = plr.Character.Humanoid.Health
                local max = plr.Character.Humanoid.MaxHealth
                local percent = (hp / max) * 100

                if percent <= (getgenv().Config.LowHealthFlyUp or 10) then
                    hrp.CFrame = hrp.CFrame + Vector3.new(0, 100, 0)
                elseif percent >= (getgenv().Config.ComebackHealth or 30) then
                    -- xu·ªëng kill ti·∫øp
                    hrp.CFrame = hrp.CFrame - Vector3.new(0, 100, 0)
                end
            end
        end)
    end
end)

-- Water Walk / Lava Walk
task.spawn(function()
    while task.wait(1) do
        pcall(function()
            if plr.Character then
                for _, part in pairs(plr.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
                local float = Instance.new("Part", plr.Character)
                float.Size = Vector3.new(5, 1, 5)
                float.Anchored = true
                float.Transparency = 1
                float.CanCollide = true
                float.Position = hrp.Position - Vector3.new(0, 3.8, 0)
                game.Debris:AddItem(float, 0.1)
            end
        end)
    end
end)

-- Fix stuck khi b·ªã k·∫πt t∆∞·ªùng
task.spawn(function()
    while task.wait(3) do
        pcall(function()
            if hrp and (hrp.Position.Y < -50 or hrp.Velocity.Magnitude < 1) then
                hrp.CFrame = hrp.CFrame + Vector3.new(0, 100, 0)
            end
        end)
    end
end)

print("[Anura Hub] Part4 loaded: Movement & Health support active.")

-- Part5: Anura Hub - UI HUD "T·ª∞ H√ÄO VI·ªÜT NAM 30/4"
local plr = game.Players.LocalPlayer
local StarterGui = game:GetService("StarterGui")

-- T·∫°o ScreenGui
local screen = Instance.new("ScreenGui", plr:WaitForChild("PlayerGui"))
screen.Name = "AnuraBountyUI"
screen.ResetOnSpawn = false

-- T·∫°o khung ch√≠nh
local main = Instance.new("Frame", screen)
main.Size = UDim2.new(0, 330, 0, 210)
main.Position = UDim2.new(0, 20, 0.4, 0)
main.BackgroundTransparency = 0
main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true

-- Vi·ªÅn 7 m√†u nh·∫•p nh√°y
local stroke = Instance.new("UIStroke", main)
stroke.Thickness = 2
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
stroke.Color = Color3.fromRGB(255, 0, 0)

-- ƒê·ªïi m√†u vi·ªÅn 7 m√†u li√™n t·ª•c
task.spawn(function()
    local rainbow = {
        Color3.fromRGB(255, 0, 0),
        Color3.fromRGB(255, 128, 0),
        Color3.fromRGB(255, 255, 0),
        Color3.fromRGB(0, 255, 0),
        Color3.fromRGB(0, 255, 255),
        Color3.fromRGB(0, 128, 255),
        Color3.fromRGB(128, 0, 255),
        Color3.fromRGB(255, 0, 255)
    }
    local i = 1
    while true do
        stroke.Color = rainbow[i]
        i = (i % #rainbow) + 1
        wait(0.2)
    end
end)

-- ·∫¢nh n·ªÅn
local bg = Instance.new("ImageLabel", main)
bg.Size = UDim2.new(1, 0, 1, 0)
bg.Position = UDim2.new(0, 0, 0, 0)
bg.BackgroundTransparency = 1
bg.Image = "rbxassetid://131220073739500"
bg.ImageTransparency = 0.6

-- Text Label Helper
local function createLabel(name, y, text)
    local lbl = Instance.new("TextLabel", main)
    lbl.Name = name
    lbl.Size = UDim2.new(1, -10, 0, 20)
    lbl.Position = UDim2.new(0, 5, 0, y)
    lbl.BackgroundTransparency = 1
    lbl.Font = Enum.Font.GothamBold
    lbl.TextSize = 14
    lbl.TextColor3 = Color3.fromRGB(255, 255, 255)
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.Text = text
    return lbl
end

local title = createLabel("Title", 5, "ANURA HUB - T·ª∞ H√ÄO VI·ªÜT NAM 30/4")
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(255, 215, 0)

local lblTarget = createLabel("Target", 30, "ƒêang sƒÉn: Ch∆∞a c√≥")
local lblBounty = createLabel("Bounty", 55, "Bounty ƒë√£ kill: 0")
local lblServer = createLabel("Server", 80, "S·ªë ng∆∞·ªùi trong server: 0")
local lblTime = createLabel("Time", 105, "Th·ªùi gian d√πng: 0 ph√∫t")
local lblFPS = createLabel("FPS", 130, "FPS: 0")

-- N√∫t Next Player
local nextBtn = Instance.new("TextButton", main)
nextBtn.Size = UDim2.new(0, 140, 0, 25)
nextBtn.Position = UDim2.new(0, 5, 1, -30)
nextBtn.Text = "Next Player"
nextBtn.Font = Enum.Font.GothamBold
nextBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
nextBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
nextBtn.TextSize = 14
nextBtn.AutoButtonColor = true
nextBtn.MouseButton1Click:Connect(function()
    _G.ForceNextTarget = true
end)

-- N√∫t ·∫©n/hi·ªán UI
local toggleBtn = Instance.new("TextButton", screen)
toggleBtn.Size = UDim2.new(0, 30, 0, 30)
toggleBtn.Position = UDim2.new(0, 0, 0, 180)
toggleBtn.Text = "-"
toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.TextSize = 20
toggleBtn.MouseButton1Click:Connect(function()
    main.Visible = not main.Visible
end)

-- C·∫≠p nh·∫≠t HUD m·ªói gi√¢y
local startTime = tick()
local RunService = game:GetService("RunService")

RunService.RenderStepped:Connect(function()
    -- C·∫≠p nh·∫≠t th·ªùi gian
    local mins = math.floor((tick() - startTime) / 60)
    lblTime.Text = "Th·ªùi gian d√πng: " .. tostring(mins) .. " ph√∫t"

    -- C·∫≠p nh·∫≠t FPS
    local fps = math.floor(1 / RunService.RenderStepped:Wait())
    lblFPS.Text = "FPS: " .. tostring(fps)

    -- C·∫≠p nh·∫≠t Target
    local t = _G.AutoBountyTarget and _G.AutoBountyTarget:FindFirstChild("HumanoidRootPart") and _G.AutoBountyTarget.Parent
    if t and t:IsA("Model") then
        lblTarget.Text = "ƒêang sƒÉn: " .. t.Name
    else
        lblTarget.Text = "ƒêang sƒÉn: Kh√¥ng"
    end

    -- C·∫≠p nh·∫≠t s·ªë ng∆∞·ªùi
    lblServer.Text = "S·ªë ng∆∞·ªùi trong server: " .. tostring(#game.Players:GetPlayers())
end)

print("[Anura Hub] Part5 loaded: UI & HUD Vi·ªát Nam 30/4 ƒë√£ hi·ªÉn th·ªã.")

-- Part6: Anti Lag, Anti Ban, Anti Death, Fix Stuck by Anura Hub

local plr = game.Players.LocalPlayer
local ws = game.Workspace

-- Anti lag: xo√° hi·ªáu ·ª©ng th·ª´a
task.spawn(function()
    local targets = {
        "Trees", "Clouds", "Rain", "Fog", "Sea", "Lava", "Water", "Decor", "EffectFolder", "Effect", "FXFolder", "Smoke", "Particles"
    }

    while wait(2) do
        for _, name in pairs(targets) do
            for _, obj in pairs(ws:GetDescendants()) do
                if obj.Name:lower():find(name:lower()) or (obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Explosion")) then
                    pcall(function()
                        obj:Destroy()
                    end)
                end
            end
        end
    end
end)

-- Anti-AFK kick
pcall(function()
    game:GetService("Players").LocalPlayer.Idled:Connect(function()
        game:GetService("VirtualUser"):CaptureController()
        game:GetService("VirtualUser"):ClickButton2(Vector2.new())
    end)
end)

-- Anti banwave (simple check bypass)
pcall(function()
    local mt = getrawmetatable(game)
    setreadonly(mt, false)
    local old = mt.__namecall
    mt.__namecall = newcclosure(function(...)
        local args = {...}
        if getnamecallmethod() == "Kick" or tostring(args[1]):lower():find("kick") then
            return warn("[Anura Hub] Anti Kick Blocked")
        end
        return old(...)
    end)
end)

-- Fix stuck khi ƒë·ª©ng y√™n ho·∫∑c k·∫πt map
task.spawn(function()
    while wait(5) do
        pcall(function()
            local hrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
            if hrp and hrp.Velocity.Magnitude < 1 then
                hrp.CFrame = hrp.CFrame + Vector3.new(0, 10, 0)
            end
        end)
    end
end)

-- Anti ch·∫øt do n∆∞·ªõc/lava
task.spawn(function()
    while wait(1) do
        pcall(function()
            if plr.Character then
                for _, v in pairs(plr.Character:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = false
                    end
                end
                local float = Instance.new("Part", plr.Character)
                float.Size = Vector3.new(5, 1, 5)
                float.Anchored = true
                float.Transparency = 1
                float.CanCollide = true
                float.Position = plr.Character.HumanoidRootPart.Position - Vector3.new(0, 3.8, 0)
                game.Debris:AddItem(float, 0.1)
            end
        end)
    end
end)

-- Anti death simple skill dodge (basic)
task.spawn(function()
    while wait(0.5) do
        pcall(function()
            if plr.Character and plr.Character.Humanoid.Health <= 20 then
                plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame + Vector3.new(0, 80, 0)
            end
        end)
    end
end)

print("[Anura Hub] Part6 loaded: Full Anti Protection Enabled")
-- Part6 Final: Auto Buffs + Server Hop Fix + Full Protection

local plr = game.Players.LocalPlayer
local RunService = game:GetService("RunService")
local vu = game:GetService("VirtualInputManager")
local rs = game:GetService("ReplicatedStorage")

-- ========== T·ª± b·∫≠t Aura n·∫øu b·ªã t·∫Øt (ph√≠m J) ==========
task.spawn(function()
    while task.wait(1) do
        pcall(function()
            if not plr.Character:FindFirstChild("HasBuso") then
                vu:SendKeyEvent(true, "J", false, game)
                wait(0.1)
                vu:SendKeyEvent(false, "J", false, game)
            end
        end)
    end
end)

-- ========== T·ª± b·∫≠t Instinct n·∫øu h·ªìi xong (ph√≠m E) ==========
task.spawn(function()
    while task.wait(0.5) do
        pcall(function()
            local gui = plr.PlayerGui:FindFirstChild("Main")
            local instinctIcon = gui and gui:FindFirstChild("ImageLabel")
            if instinctIcon and instinctIcon.ImageTransparency == 0 then
                vu:SendKeyEvent(true, "E", false, game)
                wait(0.1)
                vu:SendKeyEvent(false, "E", false, game)
            end
        end)
    end
end)

-- ========== Auto b·∫≠t V3 (ph√≠m T), V4 (ph√≠m Y) li√™n t·ª•c ==========
task.spawn(function()
    while task.wait(3) do
        vu:SendKeyEvent(true, "T", false, game)
        wait(0.1)
        vu:SendKeyEvent(false, "T", false, game)

        vu:SendKeyEvent(true, "Y", false, game)
        wait(0.1)
        vu:SendKeyEvent(false, "Y", false, game)
    end
end)

-- ========== Server Hop Fix ==========
function HopServer()
    local HttpService = game:GetService("HttpService")
    local TPS = game:GetService("TeleportService")
    local PlaceID = game.PlaceId
    local function ListServers(cursor)
        local req = ""
        if cursor then
            req = "?cursor="..cursor
        end
        local success, result = pcall(function()
            return game:HttpGet("https://games.roblox.com/v1/games/"..PlaceID.."/servers/Public"..req)
        end)
        if success then
            return HttpService:JSONDecode(result)
        end
        return nil
    end

    local servers = {}
    local cursor = nil
    repeat
        local data = ListServers(cursor)
        if data then
            for _, s in pairs(data.data) do
                if s.playing < s.maxPlayers and s.id ~= game.JobId then
                    table.insert(servers, s.id)
                end
            end
            cursor = data.nextPageCursor
        end
    until not cursor or #servers >= 10

    if #servers > 0 then
        print("[Anura Hub] Hopping to new server...")
        TPS:TeleportToPlaceInstance(PlaceID, servers[math.random(1, #servers)], plr)
    else
        warn("[Anura Hub] No suitable servers found.")
    end
end

-- ========== G·ªçi Server Hop khi kh√¥ng c√≤n target ==========
task.spawn(function()
    while task.wait(10) do
        local found = false
        for _, p in pairs(game.Players:GetPlayers()) do
            if p ~= plr and p.Character and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
                if p.Team ~= plr.Team and not p.PlayerGui.Main.PvpDisabled.Visible then
                    found = true
                    break
                end
            end
        end
        if not found then
            HopServer()
        end
    end
end)

print("[Anura Hub] Final Part6 update loaded: Buffs & Server Hop Fixed.")
-- Th√¥ng b√°o ƒë·∫∑c bi·ªát K·ªà NI·ªÜM 50 NƒÇM GI·∫¢I PH√ìNG

local plr = game.Players.LocalPlayer
local ui = Instance.new("ScreenGui", plr:WaitForChild("PlayerGui"))
ui.Name = "AnuraHubNotice"
ui.ResetOnSpawn = false

local upper = Instance.new("TextLabel", ui)
upper.Size = UDim2.new(1, 0, 0, 40)
upper.Position = UDim2.new(0, 0, 0, 10)
upper.BackgroundTransparency = 1
upper.Text = "K·ªà NI·ªÜM 50 NƒÇM"
upper.Font = Enum.Font.GothamBold
upper.TextSize = 28
upper.TextColor3 = Color3.fromRGB(255, 215, 0)
upper.TextStrokeTransparency = 0.7
upper.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
upper.TextScaled = false

local lower = Instance.new("TextLabel", ui)
lower.Size = UDim2.new(1, 0, 0, 25)
lower.Position = UDim2.new(0, 0, 0, 45)
lower.BackgroundTransparency = 1
lower.Text = "GI·∫¢I PH√ìNG MI·ªÄN NAM, TH·ªêNG NH·∫§T ƒê·∫§T N∆Ø·ªöC üáªüá≥"
lower.Font = Enum.Font.GothamBold
lower.TextSize = 20
lower.TextColor3 = Color3.fromRGB(255, 215, 0)
lower.TextStrokeTransparency = 0.7
lower.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
lower.TextWrapped = true
-- D√≤ng credit g√≥c m√†n h√¨nh (7 m√†u nh·∫•p nh√°y)
local plr = game.Players.LocalPlayer
local creditUI = Instance.new("ScreenGui", plr:WaitForChild("PlayerGui"))
creditUI.Name = "AnuraCredit"
creditUI.ResetOnSpawn = false
creditUI.ZIndexBehavior = Enum.ZIndexBehavior.Global

local credit = Instance.new("TextLabel", creditUI)
credit.Size = UDim2.new(0, 250, 0, 20)
credit.Position = UDim2.new(0, 5, 0, 5)
credit.BackgroundTransparency = 1
credit.Font = Enum.Font.GothamBold
credit.TextSize = 14
credit.Text = "Create: Anura & Thy Aris"
credit.TextColor3 = Color3.fromRGB(255, 0, 0)
credit.TextXAlignment = Enum.TextXAlignment.Left
credit.TextStrokeTransparency = 0.7
credit.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)

-- Hi·ªáu ·ª©ng ƒë·ªïi m√†u 7 m√†u li√™n t·ª•c
task.spawn(function()
    local rainbow = {
        Color3.fromRGB(255, 0, 0),
        Color3.fromRGB(255, 128, 0),
        Color3.fromRGB(255, 255, 0),
        Color3.fromRGB(0, 255, 0),
        Color3.fromRGB(0, 255, 255),
        Color3.fromRGB(0, 128, 255),
        Color3.fromRGB(128, 0, 255),
        Color3.fromRGB(255, 0, 255)
    }
    local i = 1
    while wait(0.3) do
        credit.TextColor3 = rainbow[i]
        i = (i % #rainbow) + 1
    end
end)
-- Part7: FPS Boost Hardcore by Anura Hub

local ws = game:GetService("Workspace")
local lighting = game:GetService("Lighting")
local plr = game.Players.LocalPlayer

-- ƒê·ªïi t·∫•t c·∫£ Part th√†nh m√†u x√°m
local function grayify()
    for _, v in pairs(ws:GetDescendants()) do
        if v:IsA("BasePart") then
            v.Color = Color3.fromRGB(128, 128, 128)
            v.Material = Enum.Material.SmoothPlastic
            if v:FindFirstChildOfClass("Decal") then
                v:FindFirstChildOfClass("Decal"):Destroy()
            end
        end
    end
end

-- Xo√° hi·ªáu ·ª©ng lag
local function removeEffects()
    for _, v in pairs(ws:GetDescendants()) do
        if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Smoke") or v:IsA("Fire") or v:IsA("Beam") or v:IsA("Explosion") then
            v:Destroy()
        end
    end
end

-- Xo√° √°nh s√°ng, ch·ªânh lighting
local function optimizeLighting()
    lighting.GlobalShadows = false
    lighting.FogEnd = 100000
    lighting.Brightness = 1
    lighting.TimeOfDay = "14:00:00"
end

-- Xo√° map th·ª´a (trees, sea, fog,...)
local keywords = {"tree", "rain", "cloud", "sea", "fog", "lava", "water", "deco", "grass", "effect", "fx"}
local function destroyByName()
    for _, obj in pairs(ws:GetDescendants()) do
        for _, word in pairs(keywords) do
            if obj.Name:lower():find(word) then
                pcall(function() obj:Destroy() end)
            end
        end
    end
end

-- Auto update n·∫øu c√≥ object m·ªõi
ws.DescendantAdded:Connect(function(obj)
    wait(0.1)
    pcall(function()
        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Beam") or obj:IsA("Explosion") then
            obj:Destroy()
        elseif obj:IsA("BasePart") then
            obj.Color = Color3.fromRGB(128, 128, 128)
            obj.Material = Enum.Material.SmoothPlastic
        end
    end)
end)

-- Ch·∫°y t·∫•t c·∫£
grayify()
removeEffects()
optimizeLighting()
destroyByName()

print("[Anura Hub] Part7 loaded: FPS Boost m·∫°nh ƒë√£ k√≠ch ho·∫°t.")
